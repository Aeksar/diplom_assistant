# –î–∏–ø–ª–æ–º–Ω—ã–π –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç ü§ñüéì

RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, –æ—Ç–≤–µ—á–∞—é—â–∏–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –º–æ–µ–π –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç–µ) (./data/diplom.pdf). –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –¥–∏–ø–ª–æ–º–∞, –∏—Å–ø–æ–ª—å–∑—É—è –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–∏—Å–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.

---

## üîß –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Backend**: Python 3.10+, LangChain, LangGraph
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î**: Qdrant (Docker)
- **LLM**: Mistral AI (`mistral-large-latest`)
- **Embeddings**: `intfloat/multilingual-e5-base`
- **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: PyPDFLoader + —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å–ø–ª–∏—Ç—Ç–∏–Ω–≥

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
git clone <—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd diplom-assistant
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:
```env
MISTRAL_API_KEY=your_mistral_key
QDRANT_URL=http://localhost:6333
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Qdrant –≤ Docker:
```bash
docker-compose up -d
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:
```bash
python main.py
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ data/                  # PDF-—Ñ–∞–π–ª—ã –¥–∏–ø–ª–æ–º–∞
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ qdrant.py          # –†–∞–±–æ—Ç–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ llm.py             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mistral AI
‚îÇ   ‚îî‚îÄ‚îÄ loader.py          # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF
‚îú‚îÄ‚îÄ config/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (settings.py)
‚îú‚îÄ‚îÄ states/                # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≥—Ä–∞—Ñ–∞
‚îú‚îÄ‚îÄ docker-compose.yml     # –ö–æ–Ω—Ñ–∏–≥ Qdrant
‚îî‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ PDF –∏ —Ä–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —á–∞–Ω–∫–∏
```python
from services.loader import Loader

loader = Loader()
loader.load_local_pdf()  # –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ PDF –∏–∑ ./data/pdf/
```

### 2. –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ Qdrant
```python
from services.qdrant import QdrantService

qdrant = QdrantService()
context_docs = qdrant.retrive("–ß—Ç–æ —Ç–∞–∫–æ–µ RAG?")  # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Document
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ —Å LLM
```python
from services.llm import LLMService
from states.graph_states import State

llm = LLMService()
state = State(question="–û–±—ä—è—Å–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞", context=context_docs)
response = llm.generate(state)
print(response.content)
```

### 4. –ü—Ä–∏–º–µ—Ä –≥—Ä–∞—Ñ–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (LangGraph)
```python
from langgraph.graph import StateGraph

def build_graph():
    graph = StateGraph(State)
    graph.add_node("retrieve", retrieve)  # –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    graph.add_node("generate", generate)  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
    graph.add_edge("retrieve", "generate")
    graph.set_entry_point("retrieve")
    return graph.compile()
```

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞?
1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: PDF —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ (200 —Å–∏–º–≤–æ–ª–æ–≤ —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º 50).
2. **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –¢–µ–∫—Å—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ embeddings –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Qdrant.
3. **–ü–æ–∏—Å–∫**: –î–ª—è –≤–æ–ø—Ä–æ—Å–∞ –∏—â—É—Ç—Å—è —Ç–æ–ø-10 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤.
4. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è**: Mistral AI —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

---
## üìå –ü—Ä–∏–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞
**–í–æ–ø—Ä–æ—Å**:
*"–ö–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –≤ –¥–∏–ø–ª–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç–µ?"*

**–û—Ç–≤–µ—Ç**:
> "–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å:
> - **LangChain** –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ RAG-–ø–∞–π–ø–ª–∞–π–Ω–∞,
> - **Qdrant** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–æ–∏—Å–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö embeddings,
> - **Mistral AI** (`mistral-large-latest`) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤.
> –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ 3.2 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (—Å—Ç—Ä. 15)."
```

---
**‚ö†Ô∏è –í–∞–∂–Ω–æ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PDF-—Ñ–∞–π–ª –¥–∏–ø–ª–æ–º–∞ –ª–µ–∂–∏—Ç –≤ `./data/pdf/`.
- –î–ª—è —Ä–∞–±–æ—Ç—ã Mistral AI –Ω—É–∂–µ–Ω –¥–µ–π—Å—Ç–≤—É—é—â–∏–π API-–∫–ª—é—á ([–ø–æ–ª—É—á–∏—Ç—å –∑–¥–µ—Å—å](https://mistral.ai/)).
- Qdrant –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω—ë—Ç—Å—è —á–µ—Ä–µ–∑ Docker –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.
--------------------------